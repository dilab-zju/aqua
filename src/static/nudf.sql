CREATE FUNCTION classify(input_fm)
RETURN TABLE AS 
(
    SELECT O.ImageID, O.label
    FROM Output O AS
    (
    CREATE TEMP TABLE conv1_0_output as 
    (SELECT batch_id, (matrix_id+0) as tuple_id, (SUM(A.Value * B.Value) + -0.1610475778579712) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_0 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1024) as tuple_id, (SUM(A.Value * B.Value) + 0.028935737907886505) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_1 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2048) as tuple_id, (SUM(A.Value * B.Value) + -0.1728523075580597) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_2 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3072) as tuple_id, (SUM(A.Value * B.Value) + 0.03855719417333603) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_3 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4096) as tuple_id, (SUM(A.Value * B.Value) + 0.025521645322442055) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_4 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5120) as tuple_id, (SUM(A.Value * B.Value) + -0.0579005591571331) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_5 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6144) as tuple_id, (SUM(A.Value * B.Value) + -0.09746219962835312) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_6 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7168) as tuple_id, (SUM(A.Value * B.Value) + -0.15003664791584015) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_7 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+8192) as tuple_id, (SUM(A.Value * B.Value) + 0.10452261567115784) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_8 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+9216) as tuple_id, (SUM(A.Value * B.Value) + -0.17786623537540436) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_9 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+10240) as tuple_id, (SUM(A.Value * B.Value) + 0.052831020206213) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_10 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+11264) as tuple_id, (SUM(A.Value * B.Value) + -0.06664620339870453) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_11 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+12288) as tuple_id, (SUM(A.Value * B.Value) + 0.05322122201323509) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_12 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+13312) as tuple_id, (SUM(A.Value * B.Value) + 0.13597576320171356) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_13 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+14336) as tuple_id, (SUM(A.Value * B.Value) + -0.1651863157749176) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_14 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+15360) as tuple_id, (SUM(A.Value * B.Value) + -0.0029752939008176327) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_15 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+16384) as tuple_id, (SUM(A.Value * B.Value) + -0.057189613580703735) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_16 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+17408) as tuple_id, (SUM(A.Value * B.Value) + 0.07546626031398773) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_17 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+18432) as tuple_id, (SUM(A.Value * B.Value) + 0.09706983715295792) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_18 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+19456) as tuple_id, (SUM(A.Value * B.Value) + -0.04447175934910774) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_19 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+20480) as tuple_id, (SUM(A.Value * B.Value) + 0.12301131337881088) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_20 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+21504) as tuple_id, (SUM(A.Value * B.Value) + 0.021171219646930695) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_21 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+22528) as tuple_id, (SUM(A.Value * B.Value) + 0.12171340733766556) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_22 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+23552) as tuple_id, (SUM(A.Value * B.Value) + -0.0024874145165085793) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_23 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+24576) as tuple_id, (SUM(A.Value * B.Value) + -0.07705210149288177) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_24 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+25600) as tuple_id, (SUM(A.Value * B.Value) + 0.029690774157643318) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_25 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+26624) as tuple_id, (SUM(A.Value * B.Value) + 0.10783687978982925) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_26 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+27648) as tuple_id, (SUM(A.Value * B.Value) + 0.09746833145618439) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_27 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+28672) as tuple_id, (SUM(A.Value * B.Value) + 0.09103167057037354) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_28 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+29696) as tuple_id, (SUM(A.Value * B.Value) + 0.10213208943605423) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_29 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+30720) as tuple_id, (SUM(A.Value * B.Value) + -0.11541471630334854) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_30 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+31744) as tuple_id, (SUM(A.Value * B.Value) + -0.09587417542934418) as Value FROM conv1_0_feature_map A INNER JOIN conv1_0_kernel_31 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id);
    CREATE TEMP TABLE conv1_1_output as
        SELECT A.batch_id, A.tuple_id, (value-mean)/sqrt(var+1e-05) as value
        FROM conv1_0_output A JOIN
        (SELECT batch_id, avg(value) as mean, variance(value) as var FROM conv1_0_output GROUP BY batch_id) B
        ON A.batch_id = B.batch_id;
    CREATE TEMP TABLE conv1_2_feature_map as
        SELECT batch_id, matrix_id, order_id, value, channel_id
        from conv1_1_output A
        JOIN conv1_2_mapping_table B ON A.tuple_id = B.tuple_id;
    CREATE TEMP TABLE conv1_2_output as
        SELECT batch_id, (matrix_id + 256 * channel_id) as tuple_id, max(A.value) as value
        from conv1_2_feature_map A GROUP BY batch_id, matrix_id, channel_id;
    CREATE TEMP TABLE conv1_3_output as
        SELECT batch_id, tuple_id, sql_max(0, value) as value
        from conv1_2_output UNION ALL SELECT 0, -1, 0 UNION ALL SELECT 1, -1, 0 UNION ALL SELECT 2, -1, 0 UNION ALL SELECT 3, -1, 0 UNION ALL SELECT 4, -1, 0 UNION ALL SELECT 5, -1, 0 UNION ALL SELECT 6, -1, 0 UNION ALL SELECT 7, -1, 0;
    CREATE TEMP TABLE conv2_0_feature_map a
        SELECT batch_id, matrix_id, order_id, value
        from conv1_3_output A
        JOIN conv2_0_mapping_table B ON A.tuple_id = B.tuple_id;
    CREATE TEMP TABLE conv2_0_output as 
    (SELECT batch_id, (matrix_id+0) as tuple_id, (SUM(A.Value * B.Value) + -0.05987723916769028) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_0 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+256) as tuple_id, (SUM(A.Value * B.Value) + -0.06422935426235199) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_1 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+512) as tuple_id, (SUM(A.Value * B.Value) + -0.06198450177907944) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_2 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+768) as tuple_id, (SUM(A.Value * B.Value) + 0.030862879008054733) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_3 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1024) as tuple_id, (SUM(A.Value * B.Value) + -0.0130088422447443) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_4 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1280) as tuple_id, (SUM(A.Value * B.Value) + 0.03277699276804924) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_5 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1536) as tuple_id, (SUM(A.Value * B.Value) + -0.016862371936440468) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_6 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1792) as tuple_id, (SUM(A.Value * B.Value) + -0.0010053467703983188) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_7 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2048) as tuple_id, (SUM(A.Value * B.Value) + 0.004274163860827684) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_8 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2304) as tuple_id, (SUM(A.Value * B.Value) + 0.009421871975064278) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_9 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2560) as tuple_id, (SUM(A.Value * B.Value) + 0.032593101263046265) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_10 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2816) as tuple_id, (SUM(A.Value * B.Value) + 0.021395958960056305) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_11 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3072) as tuple_id, (SUM(A.Value * B.Value) + -0.08384386450052261) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_12 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3328) as tuple_id, (SUM(A.Value * B.Value) + -0.05903587490320206) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_13 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3584) as tuple_id, (SUM(A.Value * B.Value) + -0.0050636641681194305) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_14 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3840) as tuple_id, (SUM(A.Value * B.Value) + 0.022086510434746742) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_15 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4096) as tuple_id, (SUM(A.Value * B.Value) + 0.049726326018571854) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_16 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4352) as tuple_id, (SUM(A.Value * B.Value) + -0.03814343735575676) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_17 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4608) as tuple_id, (SUM(A.Value * B.Value) + 0.027160001918673515) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_18 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4864) as tuple_id, (SUM(A.Value * B.Value) + -0.009600197896361351) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_19 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5120) as tuple_id, (SUM(A.Value * B.Value) + 0.03862008452415466) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_20 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5376) as tuple_id, (SUM(A.Value * B.Value) + -0.05644064396619797) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_21 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5632) as tuple_id, (SUM(A.Value * B.Value) + 0.010775196366012096) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_22 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5888) as tuple_id, (SUM(A.Value * B.Value) + -0.047175802290439606) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_23 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6144) as tuple_id, (SUM(A.Value * B.Value) + -0.010608178563416004) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_24 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6400) as tuple_id, (SUM(A.Value * B.Value) + -0.006933960597962141) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_25 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6656) as tuple_id, (SUM(A.Value * B.Value) + -0.059977155178785324) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_26 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6912) as tuple_id, (SUM(A.Value * B.Value) + 0.06297511607408524) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_27 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7168) as tuple_id, (SUM(A.Value * B.Value) + -0.004056272096931934) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_28 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7424) as tuple_id, (SUM(A.Value * B.Value) + -0.018955793231725693) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_29 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7680) as tuple_id, (SUM(A.Value * B.Value) + -0.06747079640626907) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_30 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7936) as tuple_id, (SUM(A.Value * B.Value) + -0.04277748614549637) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_31 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+8192) as tuple_id, (SUM(A.Value * B.Value) + 0.00881161354482174) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_32 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+8448) as tuple_id, (SUM(A.Value * B.Value) + -0.06390554457902908) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_33 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+8704) as tuple_id, (SUM(A.Value * B.Value) + 0.012888901866972446) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_34 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+8960) as tuple_id, (SUM(A.Value * B.Value) + -0.058253489434719086) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_35 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+9216) as tuple_id, (SUM(A.Value * B.Value) + -0.08931523561477661) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_36 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+9472) as tuple_id, (SUM(A.Value * B.Value) + 0.06382640451192856) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_37 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+9728) as tuple_id, (SUM(A.Value * B.Value) + 0.024032996967434883) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_38 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+9984) as tuple_id, (SUM(A.Value * B.Value) + 0.011265748180449009) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_39 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+10240) as tuple_id, (SUM(A.Value * B.Value) + -0.043279826641082764) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_40 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+10496) as tuple_id, (SUM(A.Value * B.Value) + -0.05163085088133812) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_41 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+10752) as tuple_id, (SUM(A.Value * B.Value) + -0.0528888925909996) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_42 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+11008) as tuple_id, (SUM(A.Value * B.Value) + 0.012333063408732414) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_43 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+11264) as tuple_id, (SUM(A.Value * B.Value) + -0.06791365891695023) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_44 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+11520) as tuple_id, (SUM(A.Value * B.Value) + -0.06515923887491226) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_45 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+11776) as tuple_id, (SUM(A.Value * B.Value) + -0.04241403564810753) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_46 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+12032) as tuple_id, (SUM(A.Value * B.Value) + -0.0008932694909162819) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_47 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+12288) as tuple_id, (SUM(A.Value * B.Value) + -0.029876528307795525) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_48 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+12544) as tuple_id, (SUM(A.Value * B.Value) + -0.031232470646500587) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_49 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+12800) as tuple_id, (SUM(A.Value * B.Value) + -0.0383499376475811) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_50 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+13056) as tuple_id, (SUM(A.Value * B.Value) + -0.010649984702467918) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_51 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+13312) as tuple_id, (SUM(A.Value * B.Value) + -0.07427598536014557) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_52 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+13568) as tuple_id, (SUM(A.Value * B.Value) + -0.009753319434821606) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_53 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+13824) as tuple_id, (SUM(A.Value * B.Value) + -0.007765395101159811) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_54 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+14080) as tuple_id, (SUM(A.Value * B.Value) + -0.02086714282631874) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_55 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+14336) as tuple_id, (SUM(A.Value * B.Value) + -0.0883169174194336) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_56 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+14592) as tuple_id, (SUM(A.Value * B.Value) + -0.050517745316028595) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_57 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+14848) as tuple_id, (SUM(A.Value * B.Value) + -0.046028703451156616) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_58 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+15104) as tuple_id, (SUM(A.Value * B.Value) + -0.06134730577468872) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_59 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+15360) as tuple_id, (SUM(A.Value * B.Value) + -0.06455442309379578) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_60 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+15616) as tuple_id, (SUM(A.Value * B.Value) + 0.02601751685142517) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_61 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+15872) as tuple_id, (SUM(A.Value * B.Value) + -0.04488068073987961) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_62 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+16128) as tuple_id, (SUM(A.Value * B.Value) + -0.021805617958307266) as Value FROM conv2_0_feature_map A INNER JOIN conv2_0_kernel_63 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id);
    CREATE TEMP TABLE conv2_1_output as
        SELECT A.batch_id, A.tuple_id, (value-mean)/sqrt(var+1e-05) as value
        FROM conv2_0_output A JOIN
        (SELECT batch_id, avg(value) as mean, variance(value) as var FROM conv2_0_output GROUP BY batch_id) B
        ON A.batch_id = B.batch_id;
    CREATE TEMP TABLE conv2_2_feature_map as
        SELECT batch_id, matrix_id, order_id, value, channel_id
        from conv2_1_output A
        JOIN conv2_2_mapping_table B ON A.tuple_id = B.tuple_id;
    CREATE TEMP TABLE conv2_2_output as
        SELECT batch_id, (matrix_id + 64 * channel_id) as tuple_id, max(A.value) as value
        from conv2_2_feature_map A GROUP BY batch_id, matrix_id, channel_id;
    CREATE TEMP TABLE conv2_3_output as
        SELECT batch_id, tuple_id, sql_max(0, value) as value
        from conv2_2_output UNION ALL SELECT 0, -1, 0 UNION ALL SELECT 1, -1, 0 UNION ALL SELECT 2, -1, 0 UNION ALL SELECT 3, -1, 0 UNION ALL SELECT 4, -1, 0 UNION ALL SELECT 5, -1, 0 UNION ALL SELECT 6, -1, 0 UNION ALL SELECT 7, -1, 0;
    CREATE TEMP TABLE conv3_0_feature_map a
        SELECT batch_id, matrix_id, order_id, value
        from conv2_3_output A
        JOIN conv3_0_mapping_table B ON A.tuple_id = B.tuple_id;
    CREATE TEMP TABLE conv3_0_output as 
    (SELECT batch_id, (matrix_id+0) as tuple_id, (SUM(A.Value * B.Value) + -0.005810584872961044) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_0 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+64) as tuple_id, (SUM(A.Value * B.Value) + 0.01031420473009348) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_1 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+128) as tuple_id, (SUM(A.Value * B.Value) + -0.0335453525185585) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_2 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+192) as tuple_id, (SUM(A.Value * B.Value) + 0.0048128277994692326) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_3 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+256) as tuple_id, (SUM(A.Value * B.Value) + -0.020948654040694237) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_4 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+320) as tuple_id, (SUM(A.Value * B.Value) + 0.007240089122205973) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_5 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+384) as tuple_id, (SUM(A.Value * B.Value) + -0.04607851803302765) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_6 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+448) as tuple_id, (SUM(A.Value * B.Value) + 0.006603813264518976) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_7 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+512) as tuple_id, (SUM(A.Value * B.Value) + -0.013668632134795189) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_8 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+576) as tuple_id, (SUM(A.Value * B.Value) + -0.03789955750107765) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_9 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+640) as tuple_id, (SUM(A.Value * B.Value) + -0.0053653293289244175) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_10 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+704) as tuple_id, (SUM(A.Value * B.Value) + -0.023943914100527763) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_11 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+768) as tuple_id, (SUM(A.Value * B.Value) + -0.019746996462345123) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_12 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+832) as tuple_id, (SUM(A.Value * B.Value) + 0.00830964744091034) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_13 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+896) as tuple_id, (SUM(A.Value * B.Value) + -0.03327437490224838) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_14 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+960) as tuple_id, (SUM(A.Value * B.Value) + -0.04392366111278534) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_15 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1024) as tuple_id, (SUM(A.Value * B.Value) + 0.01534046046435833) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_16 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1088) as tuple_id, (SUM(A.Value * B.Value) + 0.023706845939159393) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_17 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1152) as tuple_id, (SUM(A.Value * B.Value) + -0.021558934822678566) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_18 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1216) as tuple_id, (SUM(A.Value * B.Value) + -0.0397639200091362) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_19 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1280) as tuple_id, (SUM(A.Value * B.Value) + -0.03102794662117958) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_20 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1344) as tuple_id, (SUM(A.Value * B.Value) + 0.027710964903235435) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_21 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1408) as tuple_id, (SUM(A.Value * B.Value) + -0.025049617514014244) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_22 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1472) as tuple_id, (SUM(A.Value * B.Value) + -0.01871289312839508) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_23 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1536) as tuple_id, (SUM(A.Value * B.Value) + -0.04847022518515587) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_24 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1600) as tuple_id, (SUM(A.Value * B.Value) + 0.019471272826194763) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_25 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1664) as tuple_id, (SUM(A.Value * B.Value) + 0.021012665703892708) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_26 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1728) as tuple_id, (SUM(A.Value * B.Value) + -0.015520865097641945) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_27 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1792) as tuple_id, (SUM(A.Value * B.Value) + -0.017557373270392418) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_28 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1856) as tuple_id, (SUM(A.Value * B.Value) + -0.04604103043675423) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_29 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1920) as tuple_id, (SUM(A.Value * B.Value) + 0.015409015119075775) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_30 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+1984) as tuple_id, (SUM(A.Value * B.Value) + -0.016814274713397026) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_31 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2048) as tuple_id, (SUM(A.Value * B.Value) + 3.5208337067160755e-05) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_32 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2112) as tuple_id, (SUM(A.Value * B.Value) + -0.013890644535422325) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_33 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2176) as tuple_id, (SUM(A.Value * B.Value) + -0.06695108115673065) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_34 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2240) as tuple_id, (SUM(A.Value * B.Value) + 0.015071316622197628) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_35 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2304) as tuple_id, (SUM(A.Value * B.Value) + -0.015991462394595146) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_36 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2368) as tuple_id, (SUM(A.Value * B.Value) + 0.03620859235525131) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_37 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2432) as tuple_id, (SUM(A.Value * B.Value) + -0.03343292325735092) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_38 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2496) as tuple_id, (SUM(A.Value * B.Value) + -0.03540313243865967) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_39 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2560) as tuple_id, (SUM(A.Value * B.Value) + -0.0103856660425663) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_40 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2624) as tuple_id, (SUM(A.Value * B.Value) + -0.05855506658554077) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_41 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2688) as tuple_id, (SUM(A.Value * B.Value) + -0.058545567095279694) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_42 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2752) as tuple_id, (SUM(A.Value * B.Value) + 0.002032418502494693) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_43 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2816) as tuple_id, (SUM(A.Value * B.Value) + -0.017469678074121475) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_44 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2880) as tuple_id, (SUM(A.Value * B.Value) + -0.03434184193611145) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_45 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+2944) as tuple_id, (SUM(A.Value * B.Value) + -0.008256157860159874) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_46 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3008) as tuple_id, (SUM(A.Value * B.Value) + -0.05894983932375908) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_47 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3072) as tuple_id, (SUM(A.Value * B.Value) + -0.03972578048706055) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_48 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3136) as tuple_id, (SUM(A.Value * B.Value) + -0.019515501335263252) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_49 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3200) as tuple_id, (SUM(A.Value * B.Value) + -0.039290573447942734) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_50 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3264) as tuple_id, (SUM(A.Value * B.Value) + -0.01798022910952568) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_51 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3328) as tuple_id, (SUM(A.Value * B.Value) + -0.03176688775420189) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_52 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3392) as tuple_id, (SUM(A.Value * B.Value) + -0.03623393177986145) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_53 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3456) as tuple_id, (SUM(A.Value * B.Value) + -0.055982667952775955) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_54 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3520) as tuple_id, (SUM(A.Value * B.Value) + -0.04300385341048241) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_55 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3584) as tuple_id, (SUM(A.Value * B.Value) + -0.004157490562647581) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_56 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3648) as tuple_id, (SUM(A.Value * B.Value) + -0.058053456246852875) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_57 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3712) as tuple_id, (SUM(A.Value * B.Value) + -0.02763247862458229) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_58 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3776) as tuple_id, (SUM(A.Value * B.Value) + -0.004013353493064642) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_59 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3840) as tuple_id, (SUM(A.Value * B.Value) + 0.028213756158947945) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_60 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3904) as tuple_id, (SUM(A.Value * B.Value) + -0.04508918151259422) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_61 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+3968) as tuple_id, (SUM(A.Value * B.Value) + -0.043493058532476425) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_62 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4032) as tuple_id, (SUM(A.Value * B.Value) + 0.007280793506652117) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_63 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4096) as tuple_id, (SUM(A.Value * B.Value) + -0.028627894818782806) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_64 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4160) as tuple_id, (SUM(A.Value * B.Value) + 0.01671016775071621) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_65 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4224) as tuple_id, (SUM(A.Value * B.Value) + -0.04682333394885063) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_66 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4288) as tuple_id, (SUM(A.Value * B.Value) + 0.014239275828003883) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_67 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4352) as tuple_id, (SUM(A.Value * B.Value) + 0.006620632950216532) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_68 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4416) as tuple_id, (SUM(A.Value * B.Value) + 0.0097959628328681) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_69 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4480) as tuple_id, (SUM(A.Value * B.Value) + -0.013643261976540089) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_70 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4544) as tuple_id, (SUM(A.Value * B.Value) + -0.04606413468718529) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_71 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4608) as tuple_id, (SUM(A.Value * B.Value) + -0.050659339874982834) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_72 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4672) as tuple_id, (SUM(A.Value * B.Value) + -0.025461632758378983) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_73 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4736) as tuple_id, (SUM(A.Value * B.Value) + -0.06426919251680374) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_74 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4800) as tuple_id, (SUM(A.Value * B.Value) + -0.039225976914167404) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_75 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4864) as tuple_id, (SUM(A.Value * B.Value) + -0.05170593783259392) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_76 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4928) as tuple_id, (SUM(A.Value * B.Value) + -0.026097960770130157) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_77 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+4992) as tuple_id, (SUM(A.Value * B.Value) + -0.08701156824827194) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_78 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5056) as tuple_id, (SUM(A.Value * B.Value) + 0.016635987907648087) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_79 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5120) as tuple_id, (SUM(A.Value * B.Value) + 0.0014432980678975582) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_80 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5184) as tuple_id, (SUM(A.Value * B.Value) + -0.013732538558542728) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_81 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5248) as tuple_id, (SUM(A.Value * B.Value) + -0.04071192070841789) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_82 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5312) as tuple_id, (SUM(A.Value * B.Value) + -0.05917001888155937) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_83 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5376) as tuple_id, (SUM(A.Value * B.Value) + -0.024299871176481247) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_84 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5440) as tuple_id, (SUM(A.Value * B.Value) + -0.021249979734420776) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_85 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5504) as tuple_id, (SUM(A.Value * B.Value) + 0.03190205618739128) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_86 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5568) as tuple_id, (SUM(A.Value * B.Value) + -0.0036018267273902893) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_87 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5632) as tuple_id, (SUM(A.Value * B.Value) + -0.002002099994570017) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_88 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5696) as tuple_id, (SUM(A.Value * B.Value) + 0.011908816173672676) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_89 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5760) as tuple_id, (SUM(A.Value * B.Value) + -0.03547195345163345) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_90 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5824) as tuple_id, (SUM(A.Value * B.Value) + -0.0063851666636765) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_91 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5888) as tuple_id, (SUM(A.Value * B.Value) + -0.06428602337837219) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_92 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+5952) as tuple_id, (SUM(A.Value * B.Value) + -0.018734904006123543) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_93 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6016) as tuple_id, (SUM(A.Value * B.Value) + -0.0003454855177551508) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_94 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6080) as tuple_id, (SUM(A.Value * B.Value) + -0.009443413466215134) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_95 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6144) as tuple_id, (SUM(A.Value * B.Value) + -0.056078895926475525) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_96 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6208) as tuple_id, (SUM(A.Value * B.Value) + -0.032113831490278244) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_97 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6272) as tuple_id, (SUM(A.Value * B.Value) + -0.008383010514080524) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_98 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6336) as tuple_id, (SUM(A.Value * B.Value) + 0.004973188042640686) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_99 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6400) as tuple_id, (SUM(A.Value * B.Value) + -0.04388446733355522) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_100 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6464) as tuple_id, (SUM(A.Value * B.Value) + -0.0635548084974289) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_101 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6528) as tuple_id, (SUM(A.Value * B.Value) + -0.010387490503489971) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_102 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6592) as tuple_id, (SUM(A.Value * B.Value) + 0.003825605846941471) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_103 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6656) as tuple_id, (SUM(A.Value * B.Value) + -0.0066638244315981865) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_104 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6720) as tuple_id, (SUM(A.Value * B.Value) + -0.04624070227146149) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_105 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6784) as tuple_id, (SUM(A.Value * B.Value) + -0.00037723741843365133) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_106 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6848) as tuple_id, (SUM(A.Value * B.Value) + -0.01617421768605709) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_107 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6912) as tuple_id, (SUM(A.Value * B.Value) + -0.0020154404919594526) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_108 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+6976) as tuple_id, (SUM(A.Value * B.Value) + -0.01677728444337845) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_109 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7040) as tuple_id, (SUM(A.Value * B.Value) + 0.02857234887778759) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_110 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7104) as tuple_id, (SUM(A.Value * B.Value) + -0.005125802010297775) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_111 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7168) as tuple_id, (SUM(A.Value * B.Value) + -0.004678603261709213) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_112 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7232) as tuple_id, (SUM(A.Value * B.Value) + -0.02281228080391884) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_113 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7296) as tuple_id, (SUM(A.Value * B.Value) + -0.035963770002126694) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_114 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7360) as tuple_id, (SUM(A.Value * B.Value) + -0.029654599726200104) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_115 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7424) as tuple_id, (SUM(A.Value * B.Value) + -0.03158842399716377) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_116 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7488) as tuple_id, (SUM(A.Value * B.Value) + -0.024930315092206) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_117 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7552) as tuple_id, (SUM(A.Value * B.Value) + -0.04084724932909012) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_118 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7616) as tuple_id, (SUM(A.Value * B.Value) + -0.0465276800096035) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_119 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7680) as tuple_id, (SUM(A.Value * B.Value) + -0.00794497225433588) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_120 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7744) as tuple_id, (SUM(A.Value * B.Value) + -0.01294011902064085) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_121 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7808) as tuple_id, (SUM(A.Value * B.Value) + -0.01162007451057434) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_122 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7872) as tuple_id, (SUM(A.Value * B.Value) + -0.013633091002702713) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_123 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+7936) as tuple_id, (SUM(A.Value * B.Value) + -0.04682805389165878) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_124 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+8000) as tuple_id, (SUM(A.Value * B.Value) + 0.04191918298602104) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_125 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+8064) as tuple_id, (SUM(A.Value * B.Value) + 0.022676337510347366) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_126 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id UNION ALL SELECT batch_id, (matrix_id+8128) as tuple_id, (SUM(A.Value * B.Value) + -0.016972294077277184) as Value FROM conv3_0_feature_map A INNER JOIN conv3_0_kernel_127 B ON A.order_id = B.order_id GROUP BY matrix_id, batch_id);
    CREATE TEMP TABLE conv3_1_output as
        SELECT A.batch_id, A.tuple_id, (value-mean)/sqrt(var+1e-05) as value
        FROM conv3_0_output A JOIN
        (SELECT batch_id, avg(value) as mean, variance(value) as var FROM conv3_0_output GROUP BY batch_id) B
        ON A.batch_id = B.batch_id;
    CREATE TEMP TABLE conv3_2_feature_map as
        SELECT batch_id, matrix_id, order_id, value, channel_id
        from conv3_1_output A
        JOIN conv3_2_mapping_table B ON A.tuple_id = B.tuple_id;
    CREATE TEMP TABLE conv3_2_output as
        SELECT batch_id, (matrix_id + 16 * channel_id) as tuple_id, max(A.value) as value
        from conv3_2_feature_map A GROUP BY batch_id, matrix_id, channel_id;
    CREATE TEMP TABLE conv3_3_output as
        SELECT batch_id, tuple_id, sql_max(0, value) as value
        from conv3_2_output UNION ALL SELECT 0, -1, 0 UNION ALL SELECT 1, -1, 0 UNION ALL SELECT 2, -1, 0 UNION ALL SELECT 3, -1, 0 UNION ALL SELECT 4, -1, 0 UNION ALL SELECT 5, -1, 0 UNION ALL SELECT 6, -1, 0 UNION ALL SELECT 7, -1, 0;
    CREATE TEMP TABLE relu_tmp_output as
        SELECT batch_id, tuple_id, sql_max(0, value) as value
        from fcbn1_output UNION ALL SELECT 0, -1, 0 UNION ALL SELECT 1, -1, 0 UNION ALL SELECT 2, -1, 0 UNION ALL SELECT 3, -1, 0 UNION ALL SELECT 4, -1, 0 UNION ALL SELECT 5, -1, 0 UNION ALL SELECT 6, -1, 0 UNION ALL SELECT 7, -1, 0;
    )
)